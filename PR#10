#include <iostream>

double getUserValue() //числовая валидация пользовательского ввода
{
	while (true)
	{
		double value;
		std::cin >> value;

		if (std::cin.fail()) //если извлечения не произошло
		{
			std::cin.clear(); //сбрасываем все флаги
			std::cin.ignore(32767, '\n'); //очищаем мусор из потока
			std::cout << "Ошибка! Некорректный ввод. Попробуйте еще раз.\n";
			continue; //начинаем сначала
		}

		std::cin.ignore(32767, '\n'); //очищаем мусор из потока, если такой остался после извлечения
		if (std::cin.gcount() > 1) //если очистили более 1 символа, т.е. был мусор
		{
			std::cout << "Ошибка! Некорректный ввод. Попробуйте еще раз.\n";
			continue; //начинаем сначала
		}

		if (value < 0) //индивидуальное требование к значению
		{
			std::cout << "Ошибка! Отрицательное число. Попробуйте еще раз.\n";
			continue; //начинаем сначала
		}

		return value; //успешный ввод
	}

}

int main()
{
	std::cout << "***Программа выводит таблицу стоимости товара в диапазоне от 1 г до 10 кг с шагом 1кг***\n\n"
		<< "Введите цену 1 кг товара : ";
	double cost = getUserValue();
	//таблица стоимости
	std::cout << "Вес\tСтоимость\n" << "(г)\t(руб.)\n";
	for (int weight = 1; weight <= 10000000; weight += 1)
		std::cout << weight << "\t" << cost * weight * 0.001 << "\n"; //0.001 переводит вес в кг
		return 0;
}
